<!-- Content wrapper -->
<div class="content-wrapper">
    <!-- Content -->
    <div class="container-xxl flex-grow-1 container-p-y">
        <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Settings</span> </h4>
        <!-- Basic Layout & Basic with Icons -->
        <div class="row ">
            <!-- Basic with Icons -->
            <div class="col-xxl">
                <div class="card mb-4">
                    <div class="card-header d-flex align-items-center justify-content-between">
                        <h5 class="mb-0"><span class="text-muted fw-light">SMTP/</span> SETTINGS</h5>
                    </div>
                    <div class="card-body ">
                        <form id="settings-page" class="row g-3 " >
                            <!-- Account Details -->
                            <div class="col-12">
                                <h6 class="fw-semibold"></h6>
                                <hr class="mt-0">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="MailServer">Mail Server <label style="color: red;">
                                        *
                                    </label></label>
                                <input type="text" class="form-control" placeholder="smtp.domain.com" name="mail_Server"
                                    id="mail_Server" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="from">From
                                    <label style="color: red;">
                                        *
                                    </label></label>
                                <input type="text" class="form-control" placeholder="email@domain.com" id="from"
                                    name="from" value="{{setting.from}}" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="User Name">User Name
                                    <label style="color: red;">
                                        *
                                    </label></label>
                                <input type="text" class="form-control" placeholder="email@domain.com" name="username"
                                    id="UserName" value="{{setting.username}}" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="Password">Password
                                    <label style="color: red;">
                                        *
                                    </label></label>
                                <input type="text" class="form-control" placeholder="Password"
                                    value="{{setting.password}}" name="password" id="password" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="Port"> Port
                                    <label style="color: red;">
                                        *
                                    </label></label>
                                <input type="text" class="form-control" placeholder="587" name="port" id="port"
                                    value="{{setting.port}}" />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label" for="TLS/SSL"> TLS/SSL
                                    <label style="color: red;">
                                        *
                                    </label></label>
                                <select class="form-select form-control" aria-label="Default select example"
                                    name="protocols" id="protocols">
                                    <option value="tls" {{#compare setting.protocol "==" "tls" }}selected{{/compare}}>
                                        TLS
                                    </option>
                                    <option value="ssl" {{#compare setting.protocol "==" "ssl" }}selected{{/compare}}>
                                        SSL
                                    </option>
                                </select>
                            </div>
                            <div class="row pt-4">
                                <input type="submit" id="submit" style="width: 300px; margin: 0 auto;"
                                    class="btn btn-primary">
                                {{!-- </button> --}}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        </p>
        <div class="col-xxl">
            <div class="card mb-4">
                <div class="card-header d-flex align-items-center justify-content-between">
                    <h5 class="mb-0"><span class="text-muted fw-light">GOOGLE/</span> SETTINGS</h5>
                </div>
                <div class="card-body ">
                    <form id="googleform" class="row g-3">
                        <!-- Account Details -->
                        <div class="col-12">
                            <h6 class="fw-semibold"></h6>
                            <hr class="mt-0" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="API keys">API keys <label style="color: red;">
                                    *
                                </label></label>
                            <input class="form-control" type="text" name="APIkeys" placeholder="API keys" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="OAuth client ID">OAuth client ID <label style="color: red;">
                                    *
                                </label></label>
                            <input type="text" id="OAuth client ID" class="form-control" placeholder="OAuth client ID"
                                name="OAuthclientID" />
                        </div>
                        <div class="row pt-4">
                            <input type="submit" id="googlesubmit" style="width: 300px; margin: 0 auto;"
                                class="btn btn-primary">

                            {{!-- </button> --}}
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </p>
        <div class="col-xxl">
            <div class="card mb-4">
                <div class="card-header d-flex align-items-center justify-content-between">
                    <h5 class="mb-0"><span class="text-muted fw-light">ROZARPAY/</span> SETTINGS </h5>
                </div>
                <div class="card-body ">
                    <form id="rozarpayform" class="row g-3">
                        <!-- Account Details -->
                        <div class="col-12">
                            <h6 class="fw-semibold"></h6>
                            <hr class="mt-0" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="API Key ID">API Key ID <label style="color: red;">
                                    *
                                </label></label>
                            <input class="form-control" type="text" name="APIKeyID" placeholder="API Key ID" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label" for="Key Secret">Key Secret <label style="color: red;">
                                    *
                                </label></label>
                            <input type="text" id="Key Secret" class="form-control" placeholder="Key Secret"
                                name="KeySecret" />
                        </div>
                        <div class="row pt-4">
                            <input type="submit" id="rozerpaySubmit" 
                                style="width: 300px; margin: 0 auto;" class="btn btn-primary">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- / Content -->
    <div class="content-backdrop fade"></div>
</div>
<!-- Content wrapper -->

<script src="/assets/vendor/libs/jquery/jquery.js"></script>
<script src="/assets/vendor/libs/jquery/jquery.validate.js"></script>
<script src="/assets/vendor/libs/jquery/additional-methods.min.js"></script>
<script>
    $(document).ready(function () {
        $('#submit').on('click', function () {
            $('#settings-page').validate({
                /**errorClass: "state-error",
                validClass: "state-success",*/
                rules: {
                    mail_Server: {
                        required: true,
                    },
                    from: {
                        required: true,
                    },
                    username: {
                        required: true,
                    },
                    password: {
                        required: true,
                    },
                    port: {
                        required: true,
                    },
                    protocols: {
                        required: true,
                    },
                },
                messages: {
                    mail_Server: {
                        required: '*Please enter mail server',
                    },
                    from: {
                        required: '*Please enter from address',
                    },
                    username: {
                        required: '*Please enter username',
                    },
                    password: {
                        required: '*Please enter your password',
                    },
                    port: {
                        required: '*Please enter Port',
                    },
                    protocols: {
                        required: '*Please choose Protocol',
                    },

                },
                highlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').addClass(errorClass).removeClass(validClass);
                },
                unhighlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').removeClass(errorClass).addClass(validClass);
                },
                errorPlacement: function (error, element) {
                    error.insertAfter(element);
                }
                /**,
                submitHandler: function (form) {
                    if ($("#settings").valid()) {
                        $.ajax({
                            url: '/setting',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                mail_Server: $('[name=mail_Server]').val(),
                                from: $('[name=from]').val(),
                                username: $('[name=username]').val(),
                                password: $('[name=password]').val(),
                                port: $('[name=port]').val(),
                                protocol: $('#protocols').find(":selected").val()
                            },
                            success: function (response) {
                                if (response.type == "success") {
                                    alert(response.message)
                                    new PNotify({
                                        title: 'Success!',
                                        text: response.message,
                                        type: 'success'
                                    });
                                }
                                else {
                                    window.location.href = "/admin";
                                }
                            }
                        });
                    }
                }*/
            });
        });

    });

    $(document).ready(function () {
        $('#googlesubmit').on('click', function () {
            $('#googleform').validate({
                rules: {
                    APIkeys: {
                        required: true,
                    },
                    OAuthclientID: {
                        required: true,
                    },
                },
                messages: {
                    APIkeys: {
                        required: '*Please enter API Keys',
                    },
                    OAuthclientID: {
                        required: '*Please enter OAuth client ID',
                    },
                },
                highlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').addClass(errorClass).removeClass(validClass);
                },
                unhighlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').removeClass(errorClass).addClass(validClass);
                },
                errorPlacement: function (error, element) {
                    error.insertAfter(element);
                }
            });
        });
    }); 
    $(document).ready(function () {
        $('#rozerpaySubmit').on('click', function () {
            $('#rozarpayform').validate({
                rules: {
                    APIKeyID: {
                        required: true,
                    },
                    KeySecret: {
                        required: true,
                    },
                },
                messages: {
                    APIKeyID: {
                        required: '*Please enter API Key ID',
                    },
                    KeySecret: {
                        required: '*Please enter Key Secret',
                    },
                },
                highlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').addClass(errorClass).removeClass(validClass);
                },
                unhighlight: function (element, errorClass, validClass) {
                    $(element).closest('.form-group').removeClass(errorClass).addClass(validClass);
                },
                errorPlacement: function (error, element) {
                    error.insertAfter(element);
                }
            });
        });
    });
</script>
